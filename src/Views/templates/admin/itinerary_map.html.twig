{% extends '@PrestaShop/Admin/layout.html.twig' %}
{% block content %}
<div class="panel">
    <h3>Itinerary - {{ itinerary.date|date("l d/m/Y") }}</h3>
    <div id="map" style="height:400px;"></div>
    <h4>Morning</h4>
    <table class="table">
        <thead>
            <tr>
                <th>Time</th>
                <th>Name</th>
                <th>Address</th>
                <th>Postal Code & City</th>
            </tr>
        </thead>
        <tbody>
            {% for appt in itinerary.morning %}
            <tr>
                <td>{{ appt.time }}</td>
                <td>{{ appt.name }}</td>
                <td>{{ appt.address }}</td>
                <td>{{ appt.postal_city }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <h4>Afternoon</h4>
    <table class="table">
        <thead>
            <tr>
                <th>Time</th>
                <th>Name</th>
                <th>Address</th>
                <th>Postal Code & City</th>
            </tr>
        </thead>
        <tbody>
            {% for appt in itinerary.afternoon %}
            <tr>
                <td>{{ appt.time }}</td>
                <td>{{ appt.name }}</td>
                <td>{{ appt.address }}</td>
                <td>{{ appt.postal_city }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <a href="{{ path('admin_appointmentmanager_customerlist') }}" class="btn btn-default">CustomerList</a>
    <button onclick="window.print();" class="btn btn-primary">Print</button>
</div>
<script src="https://maps.googleapis.com/maps/api/js?key={{ google_api_key }}&callback=initMap" async defer></script>
<script>
function initMap(){
    var map = new google.maps.Map(document.getElementById('map'), {
        zoom: 10,
        center: {lat: 48.8566, lng: 2.3522}
    });
    // Placeholder: tracer l'itin√©raire sur la carte.
}
</script>
{% endblock %}